# basic duke vpn
# sudo openconnect portal.duke.edu -b --user=dfp12 --authgroup=-Default-

# duke health vpn
# sudo openconnect vpn.duhs.duke.edu -b --user=dfp12

# for elevated access
# sudo openconnect dmvpn.duhs.duke.edu -b --user=dfp12

# force split tunnel
HOSTNAMES=(
  10.96.56.216
  apis-dev.ori.duke.edu
  awsportal.duhs.duke.edu
  dev.fulcrum.duke.edu
  dev.snowball.dukecrucible.net
  exdnc-scan1.dhe.duke.edu
  fulcrum.duke.edu
  gitlab.dhe.duke.edu
  groups.oit.duke.edu
  oauth.oit.duke.edu
  redcap.duke.edu
  sftp.dev.snowball.dukecrucible.net
  sftp.prod.snowball.dukecrucible.net
  smtp.duhs.duke.edu
  snowball-dev.cluster-cropzucl3dtp.us-east-1.docdb.amazonaws.com
  test.fulcrum.duke.edu
  vld-1kp.dhe.duke.edu
  vld-apisdev01.dhe.duke.edu
)
SCRIPT="/home/dylan/.local/bin/vpn-slice ${HOSTNAMES[@]}"
sudo openconnect vpn.duhs.duke.edu \
    --user=dfp12 \
    --script="$SCRIPT"
